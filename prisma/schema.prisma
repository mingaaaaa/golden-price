generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model GoldPrice {
  id            Int      @id @default(autoincrement())
  price         Float
  openPrice     Float
  highPrice     Float
  lowPrice      Float
  buyPrice      Float
  sellPrice     Float
  lastClose     Float    @default(0)
  changePercent Float
  changeAmount  Float
  volume        Int?
  time          String   @default("")
  collectedAt   DateTime @unique
  createdAt     DateTime @default(now())

  @@index([collectedAt])
  @@index([createdAt])
}

model PushLog {
  id        Int      @id @default(autoincrement())
  type      String
  content   String
  success   Boolean
  error     String?
  createdAt DateTime @default(now())

  @@index([createdAt])
  @@index([type])
}

model AlertConfig {
  id        Int      @id @default(autoincrement())
  highPrice Float?
  lowPrice  Float?
  enabled   Boolean  @default(true)
  updatedAt DateTime @updatedAt
  createdAt DateTime @default(now())
}

model SystemConfig {
  id        Int      @id @default(autoincrement())
  key       String   @unique
  value     String
  updatedAt DateTime @updatedAt
}

model GoldShopPrice {
  id          Int      @id @default(autoincrement())
  date        String   @unique
  prices      String
  collectedAt DateTime @default(now())
  createdAt   DateTime @default(now())

  @@index([date])
  @@index([collectedAt])
}
